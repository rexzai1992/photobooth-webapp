import"./modulepreload-polyfill-B5Qt9EMX.js";import"./bubbles-BtpwCJlt.js";window.addEventListener("DOMContentLoaded",()=>localStorage.removeItem("photoStrip"));const h=1176,m=1470,r=m/2,n={canvas:document.getElementById("finalCanvas"),ctx:document.getElementById("finalCanvas").getContext("2d"),uploadInput:document.getElementById("uploadPhotoInput"),uploadBtn:document.getElementById("uploadPhoto"),readyBtn:document.getElementById("readyButton"),downloadBtn:document.getElementById("downloadBtn")};let p=0;const u=t=>{const{ctx:o}=n,e=p===0?0:r,c=t.width/t.height,a=h/r;let s,i,d,l;c>a?(l=t.height,d=t.height*a,s=(t.width-d)/2,i=0):(d=t.width,l=t.width/a,s=0,i=(t.height-l)/2),o.drawImage(t,s,i,d,l,0,e,h,r),p++,p===2&&g()},g=()=>{const{ctx:t,readyBtn:o,downloadBtn:e,uploadBtn:c}=n,a=new Image;a.onload=()=>{t.drawImage(a,0,0,h,m),c.style.display="none",o.style.display="inline-block",o.disabled=!1,e.style.display="inline-block"},a.src="Assets/fish-photobooth/camerapage/frame.png"};n.readyBtn.addEventListener("click",()=>{localStorage.setItem("photoStrip",n.canvas.toDataURL("image/png")),window.location.href="final.html"});const w=()=>{const{canvas:t}=n;t.toBlob(o=>{const e=document.createElement("a");e.href=URL.createObjectURL(o),e.download="photo-strip.png",e.click()},"image/png")};n.uploadBtn.addEventListener("click",()=>n.uploadInput.click());n.uploadInput.addEventListener("change",t=>{const o=t.target.files[0];if(!o)return;const e=new Image;e.onload=()=>u(e),e.src=URL.createObjectURL(o),n.uploadInput.value=""});n.downloadBtn.addEventListener("click",w);document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".logo");t&&t.addEventListener("click",()=>window.location.href="index.html")});
